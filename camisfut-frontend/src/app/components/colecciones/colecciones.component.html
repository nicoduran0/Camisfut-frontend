<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom barra-navegacion">
  <div class="container d-flex align-items-center">
    <a class="navbar-brand logo-navegacion" routerLink="/inicio">
      <img src="img/logo_camis.png" alt="CamisFut">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav me-auto">
        <li class="nav-item"><a class="nav-link" routerLink="/inicio">Inicio</a></li>
        <li class="nav-item"><a class="nav-link" routerLink="/catalogo">Catálogo</a></li>
        <li class="nav-item"><a class="nav-link active" routerLink="/colecciones">Colecciones</a></li>
        <li class="nav-item"><a class="nav-link" routerLink="/nosotros">Nosotros</a></li>
      </ul>
      <div class="d-flex align-items-center">
        <!-- Mostrar icono de perfil si está logueado -->
        <div *ngIf="isLoggedIn" class="dropdown">
          <button class="btn btn-outline-secondary d-flex align-items-center justify-content-center dropdown-toggle"
                  style="height: 40px; width: 40px;"
                  type="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false">
            <i class="bi bi-person"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><span class="dropdown-item-text">Hola, {{userName}}</span></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" routerLink="/mis-pedidos"><i class="bi bi-bag me-2"></i>Mis Pedidos</a></li>
            <li>
              <button class="dropdown-item text-danger" (click)="logout()">
                <i class="bi bi-box-arrow-right me-2"></i>Cerrar Sesión
              </button>
            </li>
          </ul>
        </div>

        <!-- Mostrar botón de inicio sesión si NO está logueado -->
        <a *ngIf="!isLoggedIn" routerLink="/inicio-sesion" class="btn btn-inicio-sesion me-3">Iniciar Sesión</a>

        <!-- Carrito (siempre visible) - MODIFICADO CON BADGE -->
        <button class="btn btn-outline-secondary d-flex align-items-center justify-content-center position-relative"
                style="height: 40px; width: 40px;"
                routerLink="/carrito">
          <i class="bi bi-cart"></i>
          <!-- BADGE CON CANTIDAD DE ITEMS - NUEVO -->
          <span *ngIf="totalItemsCarrito > 0"
                class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                style="font-size: 0.6rem;">
            {{ totalItemsCarrito }}
          </span>
        </button>
      </div>
    </div>
  </div>
</nav>

<!-- Hero -->
<section class="py-5 container">
  <h1 class="titulo-principal">NUESTRAS COLECCIONES</h1>
  <p>Explora nuestras colecciones seleccionadas. Desde clásicos retro hasta las últimas ediciones de tus equipos favoritos.</p>
</section>

<!-- Colecciones destacadas -->
<section class="py-5 container">
  <h2 class="mb-4">COLECCIONES DESTACADAS</h2>
  <div class="row g-4">
    <div class="col-md-6">
      <button class="tarjeta-coleccion"
              [routerLink]="['/catalogo']"
              [queryParams]="{filtro: 'champions'}">
        <img src="img/champions2.jpg" alt="Colección Champions League">
        <div class="card-img-overlay d-flex flex-column justify-content-end p-3">
          <h4>Champions League</h4>
          <p>Camisetas históricas de equipos champions</p>
        </div>
      </button>
    </div>
    <div class="col-md-6">
      <button class="tarjeta-coleccion"
              [routerLink]="['/catalogo']"
              [queryParams]="{filtro: 'selecciones'}">
        <img src="img/selecciones.jpg" alt="Colección Selecciones Nacionales">
        <div class="card-img-overlay d-flex flex-column justify-content-end p-3">
          <h4>Selecciones Nacionales</h4>
          <p>Representa a tu país con orgullo</p>
        </div>
      </button>
    </div>
    <div class="col-md-6">
      <button class="tarjeta-coleccion"
              [routerLink]="['/catalogo']"
              [queryParams]="{filtro: 'vintage'}">
        <img src="img/retro.jpg" alt="Colección Retro">
        <div class="card-img-overlay d-flex flex-column justify-content-end p-3">
          <h4>Retros</h4>
          <p>Revive la época dorada del fútbol</p>
        </div>
      </button>
    </div>
    <div class="col-md-6">
      <button class="tarjeta-coleccion"
              [routerLink]="['/catalogo']"
              [queryParams]="{filtro: 'fanVersion'}">
        <img src="img/fansVersion.jpg" alt="Colección Fans Version">
        <div class="card-img-overlay d-flex flex-column justify-content-end p-3">
          <h4>Fans Version</h4>
          <p>Camisetas diseñadas al detalle por aficionados</p>
        </div>
      </button>
    </div>
  </div>
</section>

<!-- Más colecciones -->
<section class="py-5 bg-light">
  <div class="container">
    <h2 class="mb-4 text-start">MÁS COLECCIONES</h2>
    <div class="d-flex flex-wrap justify-content-center gap-3">
      <button class="tarjeta-coleccion-extra"
              [style.backgroundImage]="'url(img/premier.png)'"
              [routerLink]="['/catalogo']"
              [queryParams]="{filtro: 'premier'}">
        <div class="superposicion"></div>
        <div class="texto-coleccion">Premier League</div>
      </button>
      <button class="tarjeta-coleccion-extra"
              [style.backgroundImage]="'url(img/laliga.jpg)'"
              [routerLink]="['/catalogo']"
              [queryParams]="{filtro: 'laLiga'}">
        <div class="superposicion"></div>
        <div class="texto-coleccion">La Liga</div>
      </button>
      <button class="tarjeta-coleccion-extra"
              [style.backgroundImage]="'url(img/seriea.jpg)'"
              [routerLink]="['/catalogo']"
              [queryParams]="{filtro: 'serieA'}">
        <div class="superposicion"></div>
        <div class="texto-coleccion">Serie A</div>
      </button>
      <button class="tarjeta-coleccion-extra"
              [style.backgroundImage]="'url(img/bundesliga.jpg)'"
              [routerLink]="['/catalogo']"
              [queryParams]="{filtro: 'bundesliga'}">
        <div class="superposicion"></div>
        <div class="texto-coleccion">Bundesliga</div>
      </button>
      <button class="tarjeta-coleccion-extra"
              [style.backgroundImage]="'url(img/ligue1.jpg)'"
              [routerLink]="['/catalogo']"
              [queryParams]="{filtro: 'ligue1'}">
        <div class="superposicion"></div>
        <div class="texto-coleccion">Ligue 1</div>
      </button>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="pie-pagina">
  <div class="container">
    <div class="row">
      <div class="col-md-3 mb-4">
        <h5 class="titulo-pie">CAMISFUT</h5>
        <p>Tu tienda de confianza para camisetas de fútbol nuevas y vintage.</p>
      </div>
      <div class="col-md-3 mb-4">
        <h5 class="titulo-pie">Navegación</h5>
        <ul class="list-unstyled">
          <li><a routerLink="/inicio" class="enlace-pie">Inicio</a></li>
          <li><a routerLink="/catalogo" class="enlace-pie">Catálogo</a></li>
          <li><a routerLink="/colecciones" class="enlace-pie">Colecciones</a></li>
          <li><a routerLink="/nosotros" class="enlace-pie">Nosotros</a></li>
        </ul>
      </div>
      <div class="col-md-3 mb-4">
        <h5 class="titulo-pie">Políticas</h5>
        <ul class="list-unstyled">
          <li><a class="enlace-pie">Envíos</a></li>
          <li><a class="enlace-pie">Devoluciones</a></li>
          <li><a class="enlace-pie">Privacidad</a></li>
          <li><a class="enlace-pie">Términos y Condiciones</a></li>
        </ul>
      </div>
      <div class="col-md-3 mb-4">
        <h5 class="titulo-pie">Síguenos</h5>
        <div class="iconos-redes">
          <a href="#"><i class="bi bi-facebook"></i></a>
          <a href="#"><i class="bi bi-instagram"></i></a>
        </div>
      </div>
    </div>
  </div>
</footer>
